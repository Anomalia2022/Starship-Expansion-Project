//	================================================================================
//	General Configs
//	================================================================================

@PART[SH_21*]:BEFORE[RealismOverhaul]
{
	!RESOURCE,* {}
	!MODULE[ModuleRCSFX],* {}
	!MODULE[ModuleReactionWheel],* {}

	%RSSROConfig = True
	@scale = 1.0
	@rescaleFactor = 1.0
	@manufacturer = SpaceX
	@tags = SpaceX, Starship, SuperHeavy, Booster

	@breakingForce = 999
	@breakingTorque = 999
	@crashTolerance = 20

	%maxTemp = 873.15
	%skinMaxTemp = 1073.15
	%skinMassPerArea = 6.0
	%emissiveConstant = 0.54
	%thermalMassModifier = 1.0

	MODULE
	{
		name = ModuleAeroReentry
		leaveTemp = true
		skinMaxOperationalTemp = 973.15
	}
}

@PART[SH_21*]:AFTER[FerramAerospaceResearch]
{
	@MODULE[GeometryPartModule]
	{
		%forceUseMeshes = True
	}
}

//	================================================================================
//	SuperHeavy 2021 Configs
//	================================================================================

@PART[SH_21_Interstage]:FOR[RealismOverhaul]
{
	@title = SuperHeavy Interstage
	@description = This interstage is responsible for attaching Starship onto SuperHeavy, with integrated avionics it has everything to return itself to the launch site for rapid reusability.
	@mass = 10
	
	@MODULE[ModuleCommand]
	{
		RESOURCE
		{
			name = ElectricCharge
			rate = 1.3
		}
	}
	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 20
		basemass = -1
		TANK
		{
			name = ElectricCharge
			amount = Full
			maxAmount = 100%
		}
	}	
}

@PART[SH_21_HGT]:FOR[RealismOverhaul]
{
	@title = SuperHeavy Hot Gas Thruster
	@description = This hot gas thruster is really all you need to reorient your big smart booster after stage separation.
	@mass = 0.62
	@rescaleFactor = 1.6
	
	MODULE
	{
		name = ModuleRCSFX
		stagingEnabled = True
		thrusterTransformName = RCS
		thrusterPower = 50
		resourceFlowMode = STAGE_PRIORITY_FLOW
		runningEffectName = running
		showToggles = False
		PROPELLANT
		{
			name = LqdMethane
			ratio = 0.43
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.57
		}
		atmosphereCurve
		{
			key = 0 330
			key = 1 240
		}
	}
}

@PART[SH_21_Core]:FOR[RealismOverhaul]
{
	@title = SuperHeavy Fuel Tank
	@description = This massive fuel tank have all the fuel needed for your SuperHeavy booster.
	@mass = 72.5
	%CoLOffset = 0.0, 0.0, 0.0
	
	MODULE
	{
		name = ModuleFuelTanks
		volume = 4080108
		type = Tank-Sep-Starship
		basemass = -1
		TANK
		{
			name = LqdMethane
			amount = Full
			maxAmount = 43.0%
		}
		TANK
		{
			name = LqdOxygen
			amount = Full
			maxAmount = 57.0%
		}
	}
}

@PART[SH_21_Cluster]:FOR[RealismOverhaul]
{
	!MODULE[ModuleAlternator],* {}
	
	@title = SuperHeavy Engine Cluster
	@mass = 90
	@description = This powerful cluster of 32 raptor engines is responsible for lifting a starship stack and returning itself for rapid reusability.
	@angularDrag = 0
    %bodyLiftMultiplier = 0.1
	
	@MODULE[ModuleEngines*]:HAS[#engineID[AllEngines]]
	{
		@minThrust = 31078 // ~40% Throttle
		@maxThrust = 77696 // 32*2428(2255 SL) based on https://twitter.com/elonmusk/status/1411744982759792645
		%ullage = True
		%pressureFed = False
		%ignitions = 999
		%throttleResponseRate = 5
		
		!PROPELLANT[*],* {}
		PROPELLANT
		{
			name = LqdMethane
			ratio = 0.43
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.57
			DrawGauge = False
		}
		
		 !atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 350
			key = 1 325
			key = 12 0.001
		}
		
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 1.0
		}
		IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
		{
			name = LqdMethane
			amount = 0.43 // ~ Guess
		}
		IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
		{
			name = LqdOxygen
			amount = 0.57 // ~ Guess
		}
	}

	@MODULE[ModuleEngines*]:HAS[#engineID[MiddleInner]]
	{
		@minThrust = 11654 // ~40% Throttle
		@maxThrust = 29136 // 12*2428(2255 SL)
		%ullage = True
		%pressureFed = False
		%ignitions = 999
		%throttleResponseRate = 5
		
		!PROPELLANT[*],* {}
		PROPELLANT
		{
			name = LqdMethane
			ratio = 0.43
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.57
			DrawGauge = False
		}
		
		 !atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 350
			key = 1 325
			key = 12 0.001
		}
		
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 1.0
		}
		IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
		{
			name = LqdMethane
			amount = 0.43 // ~ Guess
		}
		IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
		{
			name = LqdOxygen
			amount = 0.57 // ~ Guess
		}
	}
	
	@MODULE[ModuleEngines*]:HAS[#engineID[CenterThree]]
	{
		@minThrust = 2913 // ~40% Throttle
		@maxThrust = 7284 // 3*2428(2255 SL)
		%ullage = True
		%pressureFed = False
		%ignitions = 999
		%throttleResponseRate = 5
		
		!PROPELLANT[*],* {}
		PROPELLANT
		{
			name = LqdMethane
			ratio = 0.43
			DrawGauge = True
		}
		PROPELLANT
		{
			name = LqdOxygen
			ratio = 0.57
			DrawGauge = False
		}
		
		 !atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 350
			key = 1 325
			key = 12 0.001
		}
		
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 1.0
		}
		IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
		{
			name = LqdMethane
			amount = 0.43 // ~ Guess
		}
		IGNITOR_RESOURCE // Torch-Lit System uses the same propellant has the engines [5]
		{
			name = LqdOxygen
			amount = 0.57 // ~ Guess
		}
	}

}

@PART[SH_21_GRDFN]:FOR[RealismOverhaul]
{
	@title = SuperHeavy Gridfin
	@description = This isn't a big waffle, but a powerfull tool to keep your big booster on course through reentry and landing
	@mass = 1.25
		
}